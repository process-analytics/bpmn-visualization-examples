import{d as v,s as S,w as E,u as w,F as B,r as m,e as h,l as c,i as p,j as C,k as I,S as i,m as b,n as L,o as O,p as T}from"./main.js";import"./mxgraph.js";let l=[];const d="detection";let f=!0,n=!0;function k(o,t){const e={font:{spacing:{}},fill:{},stroke:{},gradient:{},label:{}};if(i.isTask(t))e.font.color="Indigo",e.fill.color="gold",e.font.size=14,e.fill.opacity=20;else if(i.isEvent(t))e.font.color="MediumTurquoise",e.stroke.color="MediumTurquoise";else if(i.isGateway(t))e.font.color="CadetBlue",e.font.opacity=85,e.stroke.color="OrangeRed",e.stroke.width=4;else if(i.isPoolOrLane(t))e.font.color="white !important",e.fill.color="deeppink",e.stroke.opacity=80;else if(i.isCallActivity(t))e.font.color="white",e.font.family="Times New Roman",e.font.isItalic=!0,e.font.isStrikeThrough=!0,e.fill.color="LimeGreen";else if(i.isSubProcess(t))e.font.color="white",e.font.size=14,e.font.family="Dialog",e.font.isBold=!0,e.font.isItalic=!0,e.font.isUnderline=!0,e.font.isStrikeThrough=!0,e.fill.color="MidnightBlue",e.opacity=60;else switch(t){case"group":case"textAnnotation":e.font.color="Crimson",e.font.size=18,e.font.family="Verdana",e.font.isBold=!0,e.font.isUnderline=!0,e.stroke.color="Chartreuse",e.stroke.width=6;break;case"messageFlow":case"sequenceFlow":case"association":e.font.color="Chocolate",e.stroke.color="Chocolate",e.stroke.width=4;break}b(o,e)}function g(){L(l)}function y(o,t){c(`Searching for Bpmn elements of '${t}' kind`);const e=O(t),a=`Found ${e.length} ${t}(s)`;c(a);const r=e.map(s=>`  - ${s.bpmnSemantic.id}: '${s.bpmnSemantic.name}'`).join(`
`);o.value+=[a,r].join(`
`)+`
`,o.scrollTop=o.scrollHeight;const u=e.map(s=>s.bpmnSemantic.id);n?(m(l,d),p(u,d)):(g(),k(u,t)),l.forEach(s=>h(s)),f?u.forEach(s=>T(s,q(t))):c("Do not display overlays"),l=u}function P(){const o=document.getElementById("elements-result"),t=document.getElementById("bpmn-kinds-select");t.onchange=r=>y(o,r.target.value),document.addEventListener("diagramLoaded",()=>y(o,t.value),!1),document.getElementById("clear-btn").onclick=function(){o.value="",n?m(l,d):g(),l.forEach(r=>h(r)),l=[]};const e=document.getElementById("checkbox-display-overlays");e.addEventListener("change",function(){f=this.checked,c("Request overlays display:",f),y(o,t.value)}),e.checked=f;const a=document.getElementById("checkbox-css-style");a.addEventListener("change",function(){n=this.checked,c("Request CSS style feature:",n),n?(g(),p(l,d)):(m(l,d),k(l,t.value))}),a.checked=n}function q(o){return i.isActivity(o)?{position:"top-right",label:"30",style:{font:{color:"Chartreuse",size:20},fill:{color:"DimGray"}}}:o.includes("Gateway")?{position:"top-left",label:"3",style:{stroke:{color:"HotPink",width:4}}}:o.includes("Event")?{position:"bottom-left",label:"15"}:o.includes("lane")||o.includes("pool")?{position:"bottom-right",label:"100"}:o.includes("Flow")?{position:"middle",label:"999",style:{fill:{color:"PaleTurquoise",opacity:25}}}:{position:"top-left",label:"40"}}function A(){document.getElementById("btn-dl-svg").addEventListener("click",C,!1),document.getElementById("btn-dl-png").addEventListener("click",I,!1)}v(()=>{S({globalOptions:{container:document.querySelector(".bpmn-container"),navigation:{enabled:!0}},statusKoNotifier:E}),w({type:B.Center,margin:20}),P(),A()});
