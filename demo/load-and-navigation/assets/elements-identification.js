import{d as S,s as w,w as B,u as E,F as C,r as m,e as g,l as c,i as p,j as I,k as b,S as i,m as k,n as T,o as L}from"./main.js";import"./mxgraph.js";let l=[];const d="detection";let u=!0,n=!0;function v(t,o){const e={font:{spacing:{}},fill:{},stroke:{},gradient:{},label:{}};if(i.isTask(o))e.font.color="Indigo",e.fill.color="gold",e.font.size=14,e.fill.opacity=20;else if(i.isEvent(o))e.font.color="MediumTurquoise",e.stroke.color="MediumTurquoise";else if(i.isGateway(o))e.font.color="CadetBlue",e.font.opacity=85,e.stroke.color="OrangeRed",e.stroke.width=4;else if(i.isPoolOrLane(o))e.font.color="white !important",e.fill.color="deeppink",e.stroke.opacity=80;else if(i.isCallActivity(o))e.font.color="white",e.font.family="Times New Roman",e.font.isItalic=!0,e.font.isStrikeThrough=!0,e.fill.color="LimeGreen";else if(i.isSubProcess(o))e.font.color="white",e.font.size=14,e.font.family="Dialog",e.font.isBold=!0,e.font.isItalic=!0,e.font.isUnderline=!0,e.font.isStrikeThrough=!0,e.fill.color="MidnightBlue",e.opacity=60;else switch(o){case"group":case"textAnnotation":e.font.color="Crimson",e.font.size=18,e.font.family="Verdana",e.font.isBold=!0,e.font.isUnderline=!0,e.stroke.color="Chartreuse",e.stroke.width=6;break;case"messageFlow":case"sequenceFlow":case"association":e.font.color="Chocolate",e.stroke.color="Chocolate",e.stroke.width=4;break}k(t,e)}function h(){k(l,{font:{color:"default",size:10,family:"Arial",isBold:!1,isItalic:!1,isUnderline:!1,isStrikeThrough:!1,opacity:"default"},fill:{color:"default",opacity:"default"},stroke:{color:"default",opacity:"default",width:"default"},opacity:"default"})}function y(t,o){c(`Searching for Bpmn elements of '${o}' kind`);const e=T(o),a=`Found ${e.length} ${o}(s)`;c(a);const r=e.map(s=>`  - ${s.bpmnSemantic.id}: '${s.bpmnSemantic.name}'`).join(`
`);t.value+=[a,r].join(`
`)+`
`,t.scrollTop=t.scrollHeight;const f=e.map(s=>s.bpmnSemantic.id);n?(m(l,d),p(f,d)):(h(),v(f,o)),l.forEach(s=>g(s)),u?f.forEach(s=>L(s,P(o))):c("Do not display overlays"),l=f}function O(){const t=document.getElementById("elements-result"),o=document.getElementById("bpmn-kinds-select");o.onchange=r=>y(t,r.target.value),document.addEventListener("diagramLoaded",()=>y(t,o.value),!1),document.getElementById("clear-btn").onclick=function(){t.value="",n?m(l,d):h(),l.forEach(r=>g(r)),l=[]};const e=document.getElementById("checkbox-display-overlays");e.addEventListener("change",function(){u=this.checked,c("Request overlays display:",u),y(t,o.value)}),e.checked=u;const a=document.getElementById("checkbox-css-style");a.addEventListener("change",function(){n=this.checked,c("Request CSS style feature:",n),n?(h(),p(l,d)):(m(l,d),v(l,o.value))}),a.checked=n}function P(t){return i.isActivity(t)?{position:"top-right",label:"30",style:{font:{color:"Chartreuse",size:20},fill:{color:"DimGray"}}}:t.includes("Gateway")?{position:"top-left",label:"3",style:{stroke:{color:"HotPink",width:4}}}:t.includes("Event")?{position:"bottom-left",label:"15"}:t.includes("lane")||t.includes("pool")?{position:"bottom-right",label:"100"}:t.includes("Flow")?{position:"middle",label:"999",style:{fill:{color:"PaleTurquoise",opacity:25}}}:{position:"top-left",label:"40"}}function q(){document.getElementById("btn-dl-svg").addEventListener("click",I,!1),document.getElementById("btn-dl-png").addEventListener("click",b,!1)}S(()=>{w({globalOptions:{container:document.querySelector(".bpmn-container"),navigation:{enabled:!0}},statusKoNotifier:B}),E({type:C.Center,margin:20}),O(),q()});
